[gd_scene load_steps=8 format=3 uid="uid://4c7wjocl4mx6"]

[ext_resource type="Script" path="res://Scripts/Agent.cs" id="1_tkwse"]
[ext_resource type="PackedScene" uid="uid://wd5cmt7l84dr" path="res://Assets/Banana Man.fbx" id="2_md83k"]
[ext_resource type="AnimationLibrary" uid="uid://bjd8tsch0x3f5" path="res://Assets/BasicMotions@Idle01.fbx" id="3_r1d26"]
[ext_resource type="AnimationLibrary" uid="uid://cun0mei4xnyn0" path="res://Assets/BasicMotions@Walk01.fbx" id="4_f53s7"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_8bs1k"]

[sub_resource type="SphereShape3D" id="SphereShape3D_a0ekf"]
radius = 5.0

[sub_resource type="ViewportTexture" id="ViewportTexture_3e31c"]
viewport_path = NodePath("Sprite3D/SubViewport")

[node name="Agent" type="CharacterBody3D"]
collision_mask = 7
script = ExtResource("1_tkwse")

[node name="Model" parent="." instance=ExtResource("2_md83k")]

[node name="GeneralSkeleton" parent="Model/RootNode/Banana_Man/Armature" index="0"]
bones/0/position = Vector3(0.00744959, 0.906576, -0.00594103)
bones/0/rotation = Quaternion(-0.0346191, -0.0754324, 0.00646758, 0.996529)
bones/1/rotation = Quaternion(0.180457, 0.0773162, 0.977016, -0.0830529)
bones/2/rotation = Quaternion(0.00420019, 0.977538, -0.210703, 0.00267902)
bones/3/rotation = Quaternion(-0.0606758, 0.642232, -0.763858, 0.0194152)
bones/4/rotation = Quaternion(2.10734e-08, 1, -2.98023e-08, 1.05367e-08)
bones/6/rotation = Quaternion(-0.0978927, -0.0221036, 0.991281, 0.0853874)
bones/7/rotation = Quaternion(-0.00351117, 0.984357, -0.176136, -0.00223943)
bones/8/rotation = Quaternion(0.074729, 0.58314, -0.808814, -0.0135414)
bones/9/rotation = Quaternion(3.68785e-08, 1, -2.98023e-08, -5.26836e-09)
bones/11/rotation = Quaternion(0.00893825, 0.00637054, 0.000265389, 0.99994)
bones/12/rotation = Quaternion(0.00893834, 0.00637064, 0.000265426, 0.99994)
bones/13/rotation = Quaternion(0.00893846, 0.00637056, 0.000265804, 0.99994)
bones/14/rotation = Quaternion(0.519859, 0.470118, 0.477057, -0.530238)
bones/15/rotation = Quaternion(0.233768, 0.844536, -0.451725, -0.167498)
bones/16/rotation = Quaternion(-0.0290344, -0.699673, -0.0292771, 0.713272)
bones/17/rotation = Quaternion(-0.028089, 0.589165, -0.186822, 0.785617)
bones/19/rotation = Quaternion(0.0183347, 0.0380853, 0.0114076, 0.999041)
bones/20/rotation = Quaternion(0.11209, 0.0503339, 0.0165402, 0.992285)
bones/21/rotation = Quaternion(0.110889, 0.0532592, 0.0154429, 0.992285)
bones/23/rotation = Quaternion(0.164612, 0.0465226, 0.0147799, 0.98515)
bones/24/rotation = Quaternion(0.119637, 0.0317121, 0.00725082, 0.992285)
bones/25/rotation = Quaternion(0.119041, 0.0339258, 0.00705725, 0.992284)
bones/27/rotation = Quaternion(0.251338, -0.0923841, 0.0626898, 0.961439)
bones/28/rotation = Quaternion(0.122247, -0.0184967, 0.00921866, 0.992285)
bones/29/rotation = Quaternion(0.122976, -0.0143414, 0.00651574, 0.992285)
bones/31/rotation = Quaternion(0.240096, -0.0160578, 0.0328947, 0.970059)
bones/32/rotation = Quaternion(0.123719, 0.00606003, 0.00530866, 0.992285)
bones/33/rotation = Quaternion(0.123614, 0.00869539, 0.00391361, 0.992285)
bones/35/rotation = Quaternion(-0.400984, 0.714947, 0.0451709, 0.570983)
bones/36/rotation = Quaternion(0.0512961, 0.184011, 0.0513721, 0.98024)
bones/37/rotation = Quaternion(0.0564318, 0.18296, 0.049712, 0.98024)
bones/38/rotation = Quaternion(-0.00506528, 0.0281595, -0.00379865, 0.999583)
bones/39/rotation = Quaternion(-0.00506505, 0.0281595, -0.0037985, 0.999583)
bones/41/rotation = Quaternion(0.5168, -0.475173, -0.481158, -0.52499)
bones/42/rotation = Quaternion(-0.120547, 0.859025, -0.455093, 0.201085)
bones/43/rotation = Quaternion(0.0169762, 0.710866, -0.0171187, 0.702914)
bones/44/rotation = Quaternion(-0.0178944, -0.626648, 0.13114, 0.767981)
bones/46/rotation = Quaternion(0.0444321, -0.040951, -0.0445366, 0.997179)
bones/47/rotation = Quaternion(0.153747, -0.0690401, -0.0226874, 0.985434)
bones/48/rotation = Quaternion(0.152099, -0.0730523, -0.0211824, 0.985434)
bones/50/rotation = Quaternion(0.17481, -0.0347833, -0.0439968, 0.983003)
bones/51/rotation = Quaternion(0.164099, -0.0434976, -0.00994533, 0.985434)
bones/52/rotation = Quaternion(0.163281, -0.046534, -0.00968024, 0.985434)
bones/54/rotation = Quaternion(0.240534, 0.113799, -0.0854455, 0.960152)
bones/55/rotation = Quaternion(0.167678, 0.025371, -0.0126447, 0.985434)
bones/56/rotation = Quaternion(0.16868, 0.0196714, -0.00893703, 0.985434)
bones/58/rotation = Quaternion(0.237928, 0.0355283, -0.05882, 0.968849)
bones/59/rotation = Quaternion(0.169698, -0.00831224, -0.00728154, 0.985434)
bones/60/rotation = Quaternion(0.169554, -0.0119268, -0.00536808, 0.985434)
bones/62/rotation = Quaternion(-0.384913, -0.727017, -0.0206534, 0.568209)
bones/63/rotation = Quaternion(0.0512956, -0.18401, -0.051372, 0.98024)
bones/64/rotation = Quaternion(0.0564312, -0.18296, -0.0497119, 0.98024)

[node name="AnimationPlayer" type="AnimationPlayer" parent="Model/RootNode" index="1"]
libraries = {
"BasicMotions@Idle01": ExtResource("3_r1d26"),
"BasicMotions@Walk01": ExtResource("4_f53s7")
}

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_8bs1k")

[node name="ShapeCast3D" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)
shape = SubResource("SphereShape3D_a0ekf")
collision_mask = 3

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)
visible = false
billboard = 1
texture = SubResource("ViewportTexture_3e31c")

[node name="SubViewport" type="SubViewport" parent="Sprite3D"]
transparent_bg = true
size = Vector2i(180, 64)

[node name="VBoxContainer" type="VBoxContainer" parent="Sprite3D/SubViewport"]
offset_right = 40.0
offset_bottom = 40.0

[node name="PositionLabel" type="Label" parent="Sprite3D/SubViewport/VBoxContainer"]
layout_mode = 2
text = "位置："

[node name="VelocityLabel" type="Label" parent="Sprite3D/SubViewport/VBoxContainer"]
layout_mode = 2
text = "速度："

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]

[connection signal="input_event" from="." to="." method="OnInputEvent"]

[editable path="Model"]
